% !TeX spellcheck = en_UK-oed
\documentclass{article}

\usepackage[utf8]{inputenc}
\usepackage[british]{babel}
\usepackage{../lib/tex/naproche}


\usepackage{stix2}


\newcommand{\Cong}[4]{#1 #2 \equiv #3 #4}
\newcommand{\NotCong}[4]{#1 #2 \not\equiv #3 #4}
\newcommand{\Betw}[3]{#1 #2 #3}
\newcommand{\Col}[3]{\operatorname{Col}(#1, #2, #3)}
\newcommand{\SenaryCong}[6]{#1 #2 #3 \equiv #4 #5 #6}
\newcommand{\BetwFive}[5]{#1 #2 #3 #4 #5}
\newcommand{\Leq}[4]{#1 #2 \leq #3 #4}
\newcommand{\Geq}[4]{#1 #2 \geq #3 #4}
\newcommand{\Less}[4]{#1 #2 < #3 #4}
\newcommand{\Greater}[4]{#1 #2 > #3 #4}

\newcommand{\xprime}{x'}
\newcommand{\yprime}{y'}
\newcommand{\zprime}{z'}
\newcommand{\tprime}{t'}
\newcommand{\uprime}{u'}
\newcommand{\vprime}{v'}
\newcommand{\wprime}{w'}

\newcommand{\OFS}[8]{\operatorname{OFS}
\left(\begin{smallmatrix}%
#1 & #2 & #3 & #4 \\
#5 & #6 & #7 & #8
\end{smallmatrix}\right)%
}
\newcommand{\IFS}[8]{\operatorname{IFS}
\left(\begin{smallmatrix}%
#1 & #2 & #3 & #4 \\
#5 & #6 & #7 & #8
\end{smallmatrix}\right)%
}

\title{Tarski's axioms for Euclidian geometry}
\author{Adrian De Lon, Daniel Kollert}
\date{2020}

\begin{document}
  \pagenumbering{gobble}

  \maketitle

  This is a formalization of the beginnings of Tarskian geometry,
  mainly following the book
  \textit{Metamathematische Methoden in der Geometrie}
  by Schwabh√§user, Szmielew and Tarski.
  We refer to this book as \textit{SST} in later comments.


  \section{The language of Tarskian geometry}

  The only objects under consideration are \textit{points}.
  They are subject to two primitive relations:
  the quaternary \textit{congruence} $\Cong{(-)}{(-)}{(-)}{(-)}$
  and the ternary \textit{betweenness} $\Betw{(-)}{(-)}{(-)}$.
  Intuitively, congruence expresses that the distance between the first two points is equal to the distance of the last two points, and betweenness expresses that
  the second point lies on the between the other two on a shared line.
  Informally we will also talk about segments, denoted by concatenation $(-)(-)$ of points.


  \begin{forthel}
    [synonym point/-s]

    \begin{signature}
      A point is a notion.
    \end{signature}

    Let $x, y, z, u, v, w, p, q, r, g, h$ denote points.


    \begin{signature}
      $\Cong{x}{y}{v}{w}$ is an atom.
    \end{signature}
    Let $x$ and $y$ are congruent to $v$ and $w$ stand for $\Cong{x}{y}{v}{w}$.
    Let $\NotCong{x}{y}{v}{w}$ stand for $x$ and $y$ are not congruent to $v$ and $w$.
    Let $x-y : v-w$ stand for $x$ and $y$ are congruent to $v$ and $w$.

    \begin{signature}
      $\Betw{x}{y}{z}$ is an atom.
    \end{signature}

    Let $y$ is between $x$ and $z$ stand for $\Betw{x}{y}{z}$.
    Let $x-u-y$ stand for $u$ is between $x$ and $y$.
  \end{forthel}

  Intuitively, points are \textit{collinear} when they lie on a single line.
  We will later see that betweenness is symmetric
  ($\Betw{x}{y}{z}$ implies $\Betw{z}{y}{x}$),
  so we only need to consider three of the six permutations of three points in the definition of collinearity.

  \begin{forthel}
    \begin{definition}
      $\Col{x}{y}{z}$ iff $\Betw{x}{y}{z}$ or $\Betw{y}{z}{x}$ or $\Betw{z}{x}{y}$.
    \end{definition}

    Let $p$ is collinear with $x$ and $y$ stand for $\Col{p}{x}{y}$.
  \end{forthel}




  \paragraph{Reflexivity of congruence}\

  \begin{forthel}
    \begin{axiom}[A1]
      We have $\Cong{x}{y}{y}{x}$.
    \end{axiom}
  \end{forthel}


  \paragraph{Transitivity of congruence}\

  \begin{forthel}
    \begin{axiom}[A2]
      If $\Cong{x}{y}{z}{u}$ and $\Cong{x}{y}{v}{w}$ then $\Cong{z}{u}{v}{w}$.
    \end{axiom}
  \end{forthel}


  \paragraph{Identity of congruence}\

  \begin{forthel}
    \begin{axiom}[A3]
      If $\Cong{x}{y}{z}{z}$ then $x = y$.
    \end{axiom}
  \end{forthel}


  \paragraph{Segment construction} allows us to extend a segment $xy$
  by a length specified by another segment $pq$.

  \begin{forthel}
    \begin{axiom}[A4]
      There exists a point $z$ such that $\Betw{x}{y}{z}$ and $\Cong{y}{z}{p}{q}$.
    \end{axiom}
  \end{forthel}


  \paragraph{Five segments}\
  We say that the points $x,y,z,r,u,v,w,p$ are in an \textit{outer five-segment-configuration}
  whenever $\OFS{x}{y}{z}{r}{u}{v}{w}{p}$.

  %This is definition 2.10 in \textit{SST}.
  \begin{forthel}
    \begin{definition}
      $\OFS{x}{y}{z}{r}{u}{v}{w}{p}$ if and only if
      $\Betw{x}{y}{z}
        \wedge \Betw{u}{v}{w}$
      and we have
      $\Cong{x}{y}{u}{v}
        \wedge \Cong{y}{z}{v}{w}
        \wedge \Cong{x}{r}{u}{p}
        \wedge \Cong{y}{r}{v}{p}$.
    \end{definition}
  \end{forthel}

  Using the concept of an outer five-segment-configuration,
  we can state the five-segment axiom A5 in a concise form.

  \begin{forthel}
    \begin{axiom}[A5]
      If $\OFS{x}{y}{z}{r}{u}{v}{w}{p}$ and $x \neq y$ then $\Cong{z}{r}{w}{p}$.
    \end{axiom}
  \end{forthel}


  \paragraph{Identity of betweenness}\

  \begin{forthel}
    \begin{axiom}[A6]
      If $\Betw{x}{y}{x}$ then $x = y$.
    \end{axiom}
  \end{forthel}


  \paragraph{Inner Pasch}\

  \begin{forthel}
    \begin{axiom}[A7]
      If $\Betw{x}{u}{z}$ and $\Betw{y}{v}{z}$ then there exists a point $w$
      such that $\Betw{u}{w}{y}$ and $\Betw{v}{w}{x}$.
    \end{axiom}
  \end{forthel}


  \paragraph{Lower dimension}\

  \begin{forthel}
    \begin{axiom}[A8]
      There exist points $a,b,c$ such that
      $a$ is not collinear with $b$ and $c$.
    \end{axiom}
  \end{forthel}


  \paragraph{Upper dimension}\

  \begin{forthel}
    \begin{axiom}[A9]
      If $\Cong{x}{u}{x}{v}$ and $\Cong{y}{u}{y}{v}$
      and $\Cong{z}{u}{z}{v}$ and $u \neq v$
      then $x$ is collinear with $y$ and $z$.
    \end{axiom}
  \end{forthel}


  \paragraph{Euclid}\

  \begin{forthel}
    \begin{axiom}[A10]
      Assume $x \neq r$.
      If $\Betw{x}{r}{v}$ and $\Betw{y}{r}{z}$
      then there exist points $s,t$ such that
      $\Betw{x}{y}{s}$ and $\Betw{x}{z}{t}$ and $\Betw{s}{v}{t}$.
    \end{axiom}
  \end{forthel}


  \paragraph{Circle continuity axiom}
  This axiom is equivalent to the the statement
  \textit{a~line that has a point within a circle intersects that circle}.

  \begin{forthel}
    \begin{axiom}[CA]
      Assume $\Betw{z}{p}{q}$ and $\Betw{z}{p}{r}$.
      Assume $\Cong{z}{x}{z}{p}$ and $\Cong{z}{y}{z}{r}$.
      Then there exists $w$ such that $\Cong{z}{w}{z}{q}$ and $\Betw{x}{w}{y}$.
    \end{axiom}
  \end{forthel}







  \paragraph{Reflexivity of congruence}\

  \begin{forthel}
    \begin{lemma} % Satz 2.1
      For all points $x, y$ we have $\Cong{x}{y}{x}{y}$.
    \end{lemma}
  \end{forthel}


  \paragraph{Symmetry of congruence}\

  \begin{forthel}
    \begin{lemma} % Satz 2.2
      If $\Cong{x}{y}{v}{w}$
      then $\Cong{v}{w}{x}{y}$.
    \end{lemma}
  \end{forthel}


  \paragraph{Transitivity of congruence}\

  \begin{forthel}
    \begin{lemma} % Satz 2.3
      If $\Cong{x}{y}{v}{w}$ and $\Cong{v}{w}{p}{q}$
      then $\Cong{x}{y}{p}{q}$.
    \end{lemma}
  \end{forthel}


  \paragraph{Congruence is independent of the order of the pairs}\

  \begin{forthel}
    \begin{lemma} % Satz 2.4
      If $\Cong{x}{y}{v}{w}$
      then $\Cong{y}{x}{v}{w}$.
    \end{lemma}

    \begin{lemma} % Satz 2.5
      If $\Cong{x}{y}{v}{w}$
      then $\Cong{x}{y}{w}{v}$.
    \end{lemma}
  \end{forthel}


  \paragraph{Zero-length segments are congruent}\

  \begin{forthel}
    \begin{lemma} % Satz 2.8
      For all point $x, y$ we have $\Cong{x}{x}{y}{y}$.
    \end{lemma}
  \end{forthel}


  \paragraph{Concatenation of segments}\

  \begin{forthel}
    \begin{lemma} % Satz 2.11
      Assume $\Betw{x}{y}{z}$ and $\Betw{r}{v}{w}$.
      Assume $\Cong{x}{y}{r}{v}$ and $\Cong{y}{z}{v}{w}$.
      Then $\Cong{x}{z}{r}{w}$.
    \end{lemma}
    \begin{proof}
      We have $\OFS{x}{y}{z}{x}{r}{v}{w}{r}$. % By previous results and assumption.
      If $x = y$ then $r = v$.                % Axiom A3 gives this implication.
      If $x \neq y$ then $\Cong{x}{z}{r}{w}$. % Axiom A5 completes the proof.
    \end{proof}
  \end{forthel}


  \paragraph{Uniqueness for segment construction}\

  \begin{forthel}
    \begin{lemma} % Satz 2.12
      Assume $q \neq x$.
      Suppose $\Betw{q}{x}{v}$ and $\Cong{x}{v}{y}{z}$.
      Suppose $\Betw{q}{x}{w}$ and $\Cong{x}{w}{y}{z}$.
      Then $v = w$.
    \end{lemma}
    \begin{proof}
      We have $\Cong{q}{v}{q}{w}$.
      Thus $\Cong{x}{v}{x}{w}$.
      Thus $\OFS{q}{x}{v}{v}{q}{x}{v}{w}$.
      Therefore $\Cong{v}{v}{v}{w}$.
    \end{proof}
  \end{forthel}


  \paragraph{Right-betweenness}\

  \begin{forthel}
    \begin{lemma} % Satz 3.1
      For all points $x, y$ we have $\Betw{x}{y}{y}$.
    \end{lemma}
  \end{forthel}

  \paragraph{Symmetry of betweenness}\

  \begin{forthel}
    \begin{lemma} % Satz 3.2
      Assume $\Betw{x}{y}{z}$. Then $\Betw{z}{y}{x}$.
    \end{lemma}
  \end{forthel}

  \paragraph{Left-betweenness} follows directly
  from right-betweenness and symmetry of betweenness.
  %
  \begin{forthel}
    \begin{lemma} % Satz 3.3
      For all points $x, y$ we have  $\Betw{x}{x}{y}$.
    \end{lemma}
  \end{forthel}


  \begin{forthel}
    \begin{lemma} % Satz 3.4
      Assume $\Betw{x}{y}{z}$ and $\Betw{y}{x}{z}$.
      Then $x = y$.
    \end{lemma}
    \begin{proof}
      Take a point $w$ such that
      $\Betw{y}{w}{y}$ and $\Betw{x}{w}{x}$.
      Then $x = w = y$.
    \end{proof}

    \begin{lemma} % Satz 3.5 (first part)
      Assume $\Betw{x}{y}{v}$ and $\Betw{y}{z}{v}$.
      Then $\Betw{x}{y}{z}$.
    \end{lemma}
    \begin{proof}
      Take a point $w$ such that
      $\Betw{y}{w}{y}$ and $\Betw{z}{w}{x}$.
    \end{proof}

    \begin{lemma} % Satz 3.7 (first part)
      Assume $\Betw{x}{y}{z}$ and $\Betw{y}{z}{r}$ and $y \neq z$.
      Then $\Betw{x}{z}{r}$.
    \end{lemma}
    \begin{proof}
      Take $v$ such that $\Betw{x}{z}{v}$ and $\Cong{z}{v}{z}{r}$.
      Then $\Betw{y}{z}{v}$ and $\Cong{z}{v}{z}{r}$.
      Hence $v = r$.
    \end{proof}

    \begin{lemma} % [S35b] % Satz 3.5 (second part)
      Assume $\Betw{x}{y}{v}$ and $\Betw{y}{z}{v}$.
      Then $\Betw{x}{z}{v}$.
    \end{lemma}
    \begin{proof}
      If $y = z$ then $\Betw{x}{z}{v}$.
      Assume $y \neq z$.
      We have $\Betw{x}{y}{z}$.
    \end{proof}

    \begin{lemma} % Satz 3.6 (first part)
      Assume $\Betw{x}{y}{z}$ and $\Betw{x}{z}{r}$. Then $\Betw{y}{z}{r}$.
    \end{lemma}

    \begin{lemma} % Satz 3.6 (second part)
      Assume $\Betw{x}{y}{z}$ and $\Betw{x}{z}{r}$. Then $\Betw{x}{y}{r}$.
    \end{lemma}
    \begin{proof}
      We have $\Betw{r}{z}{x}$.
      We have $\Betw{z}{y}{x}$.
      Thus $\Betw{r}{y}{x}$. % (by S35b).
      Thus $\Betw{x}{y}{z}$.
      % We have $\Betw{z}{y}{r}$.
    \end{proof}

    \begin{lemma} % Satz 3.7 (second part)
      Assume $y \neq z$.
      If $\Betw{x}{y}{z}$ and $\Betw{y}{z}{r}$
      then $\Betw{x}{y}{r}$.
    \end{lemma}
  \end{forthel}

  Existence of at least two points follows from axiom A8.
  All other axioms also hold in a one-point space.

  \begin{forthel}
    \begin{lemma} % Satz 3.13
      We have $x \neq y$ for some $x, y$.
      %There exist nonequal points $x,y$.
    \end{lemma}

    \begin{lemma} % Satz 3.14
      There exist $z$ such that $\Betw{x}{y}{z}$ and $y \neq z$.
    \end{lemma}
  \end{forthel}

  The following follows from invoking A7 (Pasch) twice.

  \begin{forthel}
    \begin{lemma} % Satz 3.17
      Assume $\Betw{x}{y}{z}$ and $\Betw{u}{v}{z}$ and $\Betw{x}{p}{u}$.
      Then there exist $q$ such that $\Betw{p}{q}{z}$ and $\Betw{y}{q}{v}$.
    \end{lemma}
    \begin{proof}
      We have $\Betw{x}{p}{u}$ and $\Betw{z}{v}{u}$.
    	Take $r$ such that $\Betw{v}{r}{x}$ and $\Betw{p}{r}{z}$. % A7 (Pasch).
    	Take $q$ such that $\Betw{r}{q}{z}$ and $\Betw{v}{q}{y}$. % A7 (Pasch).
    \end{proof}
  \end{forthel}


  This is definition 4.1 in \textit{SST}.
  We say that the points $x,y,z,r,u,v,w,p$ are
  in an inner five-segment-configuration
  whenever $\IFS{x}{y}{z}{r}{u}{v}{w}{p}$.

  \begin{forthel}
    \begin{definition}
      $\IFS{x}{y}{z}{r}{v}{w}{p}{q}$ iff
      $\Betw{x}{y}{z}$ and $\Betw{v}{w}{p}$
      and $\Cong{x}{z}{v}{p}$ and $\Cong{y}{z}{w}{p}$
      and $\Cong{x}{r}{v}{q}$ and $\Cong{z}{r}{p}{q}$.
    \end{definition}
  \end{forthel}

  We can swap $x, y$ with $v, w$.

  \begin{forthel}
    \begin{lemma} % Satz 4.2
      Assume $\IFS{x}{y}{z}{r}{v}{w}{p}{q}$.
      Then $\Cong{y}{r}{w}{q}$.
    \end{lemma}
    \begin{proof}
      Case $x \neq z$.
        Take points $g,h$ such that
        % We want to extend both figures.
        %
        % The disequality for the other side follows from the congruence of
        % the two extensions.
        %
        $g \neq z$ and
        $\Betw{x}{z}{g}$ and
        $\Betw{v}{p}{h}$ and
        $\Cong{p}{h}{z}{g}$.
        %
        Then $\OFS{x}{z}{g}{r}{v}{p}{h}{q}$.
        Thus $\Cong{g}{r}{h}{q}$.
        Thus $\OFS{g}{z}{y}{r}{h}{p}{w}{q}$.
        Thus $\Cong{y}{r}{w}{q}$.
      End.
      %Case $x = z$.
      %  Then $v = p$.
      %  Thus $y = z$ and $w = p$.
      %End.
    \end{proof}

  \end{forthel}



  \begin{forthel}
    \begin{lemma}[OverlappingSegments] % Satz 4.3
      Assume
      $\Betw{x}{y}{z}$ and
      $\Betw{r}{v}{w}$ and
      $\Cong{x}{z}{r}{w}$ and
      $\Cong{y}{z}{v}{w}$.
      Then $\Cong{x}{y}{r}{v}$.
    \end{lemma}
    \begin{proof}
      We have $\IFS{x}{y}{z}{x}{r}{v}{w}{r}$.
    \end{proof}

    \begin{definition} % Definition 4.4, specialized to three points.
      $\SenaryCong{x}{y}{z}{u}{v}{w}$ iff
      $\Cong{x}{y}{u}{v}$ and
      $\Cong{x}{z}{u}{w}$ and
      $\Cong{y}{z}{v}{w}$.
    \end{definition}
  \end{forthel}

  \begin{lemma}
    $\SenaryCong{x}{y}{z}{u}{v}{w}$ iff $\SenaryCong{y}{x}{z}{v}{u}{w}$.
  \end{lemma}

  \begin{lemma}
    $\SenaryCong{x}{y}{z}{u}{v}{w}$ iff $\SenaryCong{z}{y}{x}{w}{v}{u}$.
  \end{lemma}

  \begin{lemma}
    $\SenaryCong{x}{y}{z}{u}{v}{w}$ iff $\SenaryCong{x}{z}{y}{u}{w}{v}$.
  \end{lemma}

  If we have two congruent segments, then an inner point of one segment
  can be transferred congruently onto the other segment.

  \begin{forthel}
    \begin{lemma} % Satz 4.5
      Assume $\Betw{x}{y}{z}$ and $\Cong{x}{z}{r}{w}$.
      Then there exists $v$ such that $\Betw{r}{v}{w}$ and $\SenaryCong{x}{y}{z}{r}{v}{w}$.
    \end{lemma}
    \begin{proof}
      Take $u$ such that $\Betw{w}{r}{u}$ and $r \neq u$.
      Then take $v$ such that $\Betw{u}{r}{v}$ and $\Cong{r}{v}{x}{y}$.
      Take $g$ such that $\Betw{u}{v}{g}$ and $\Cong{v}{g}{y}{z}$.
      Then $\Cong{x}{z}{r}{w}$.
      Therefore $g = w$.
    \end{proof}

    \begin{lemma} %[L4o6]
      Assume $\Betw{x}{y}{z}$ and $\SenaryCong{x}{y}{z}{r}{v}{w}$.
      Then $\Betw{r}{v}{w}$.
    \end{lemma}
    \begin{proof}
      Take $u$ such that $\Betw{r}{u}{w}$ and $\SenaryCong{x}{y}{z}{r}{u}{w}$.
      Then $\SenaryCong{r}{u}{w}{r}{v}{w}$ and $\IFS{r}{u}{w}{u}{r}{u}{w}{v}$.
      Then $\Cong{u}{u}{u}{v}$.
      Hence $u = v$.
      Hence $\Betw{r}{v}{w}$.
    \end{proof}
  \end{forthel}

  \subsection{Collinearity}

  % SST: Satz 4.11
  Until now we have only used the concept of collinearity to abbreviate some axioms.
  We first make the straightforward observation that
  collinearity is invariant under permutation of the arguments.

  \begin{forthel}
    \begin{lemma}
      Assume $\Col{x}{y}{z}$. Then $\Col{y}{z}{x}$.
    \end{lemma}

    \begin{lemma}
      Assume $\Col{x}{y}{z}$. Then $\Col{z}{x}{y}$.
    \end{lemma}

    \begin{lemma}
      Assume $\Col{x}{y}{z}$. Then $\Col{z}{y}{x}$.
    \end{lemma}

    \begin{lemma}
      Assume $\Col{x}{y}{z}$. Then $\Col{y}{x}{z}$.
    \end{lemma}

    \begin{lemma}
      Assume $\Col{x}{y}{z}$. Then $\Col{x}{z}{y}$.
    \end{lemma}
  \end{forthel}

  Similarly, it is easy to find a common line between just two points instead of three.

  \begin{forthel}
    \begin{lemma} % Satz 4.12
      $\Col{x}{x}{y}$.
    \end{lemma}

    \begin{lemma} % Satz 4.13
      Assume $\Col{x}{y}{z}$.
      Assume $\Cong{x}{z}{r}{w}$ and $\Betw{r}{v}{w}$.
      Then $\Col{r}{v}{w}$.
    \end{lemma}

    \begin{axiom} % Satz 4.14 (TODO)
      Assume $\Col{x}{y}{z}$ and $\Cong{x}{y}{r}{v}$.
      Then there exists $w$ such that $\SenaryCong{x}{y}{z}{r}{v}{w}$.
    \end{axiom}
  \end{forthel}

  % Does not work for now, potentially only because of a bug in Naproche.
  \begin{proof}
    Case $\Betw{x}{y}{z}$.
    Take $w$ such that $\Betw{r}{v}{w}$ and $\Cong{v}{w}{y}{z}$.
    End.
    Case $\Betw{y}{x}{z}$.
    Take $w$ such that $\Betw{v}{r}{w}$ and $\Cong{r}{w}{x}{z}$.
    Then $\Cong{y}{z}{v}{w}$.
    End.
    Case $\Betw{x}{z}{y}$.
    There exists $w$ such that $\Betw{r}{w}{v}$ and $\SenaryCong{x}{z}{y}{r}{w}{v}$.
    End.
  \end{proof}

  \subsection{Five-segment configuration}

  \begin{forthel}
    \begin{definition} % Satz 4.15
      $FS(x,y,z,r,v,w,p,q)$ iff $\Col{x}{y}{z}$ and
      $\SenaryCong{x}{y}{z}{v}{w}{p}$ and
      $\Cong{x}{r}{v}{q}$ and
      $\Cong{y}{r}{w}{q}$.
    \end{definition}

    \begin{axiom} %[L4o16] (TODO)
      Assume $FS(x,y,z,r,v,w,p,q)$ and $x \neq y$.
      Then $\Cong{z}{r}{p}{q}$.
    \end{axiom}


    \begin{lemma} %[L4o17]
      Assume $x \neq y$ and $\Col{x}{y}{z}$ and $x-p : x-q$ and $y-p : y-q$. Then $z-p : z-q$.
      $\Cong{x}{p}{x}{q}$ and
      $\Cong{y}{p}{y}{q}$. Then
      $\Cong{z}{p}{z}{q}$.
    \end{lemma}
    \begin{proof}
    	$FS(x,y,z,p,x,y,z,q)$.
    \end{proof}


    \begin{lemma} %[L4o18]
      Assume $x \neq y$ and $\Col{x}{y}{z}$ and $x-z : x-p$ and $y-z : y-p$. Then $z = p$.
    \end{lemma}

    \begin{lemma} %[L4o19]
      Assume $\Betw{x}{z}{y}$ and $\Cong{x}{z}{x}{p}$ and $\Cong{y}{z}{y}{p}$.
      Then $z = p$.
    \end{lemma}
    \begin{proof}
      Assume $x = y$. Then $x = z$ and $x = p$. Hence $z = p$. Assume $x \neq y$.
    \end{proof}
  \end{forthel}

  The eleventh axiom of Tarski's original axiomatization says that
  if $\Betw{x}{y}{w}$ and $\Betw{x}{z}{w}$
  then $\Betw{x}{y}{z}$ or $\Betw{x}{z}{y}$.
  %To show that it follows from the first ten axioms we first prove Lemma C5o1 from which we can easy deduce the 11th axiom.

  %The definitions, lemmas and axioms C5o1a - C5o1p are not part of \textit{SST}.
  %We have opted for adding them to improve proof-checking speed and readability of the text.

  \begin{forthel}
    \begin{definition} %[C5o1a]
      $\BetwFive{x}{y}{z}{r}{p}$ iff $\Betw{x}{y}{z}$ and
      $\Betw{x}{y}{r}$ and
      $\Betw{x}{y}{p}$ and
      $\Betw{x}{z}{r}$ and
      $\Betw{x}{z}{p}$ and
      $\Betw{x}{r}{p}$ and
      $\Betw{y}{z}{r}$ and
      $\Betw{y}{z}{p}$ and
      $\Betw{y}{r}{p}$ and
      $\Betw{z}{r}{p}$.
    \end{definition}
  \end{forthel}

  The following predicates state the already proven statements for different positions in the proof.
  They are not defined in \textit{SST}.
  We use them because they seem to increase the performance of the proof assistant,
  when checked just before the next proving step.

  \begin{forthel}
    \begin{definition} %[C5o1b]
      $Th(x,y,z,r,p,q,g,h)$ iff $x \neq y$ and $x-y-z$ and $x-y-r$ and $x-r-p$ and $r-p : z-r$ and $x-z-q$ and $z-q : z-r$ and $z-q-h$ and $r-p-g$.
    \end{definition}

    \begin{definition} %[C5o1c]
      $Th2(x,y,z,r,p,q,g)$ iff $x \neq y$ and
      $\BetwFive{x}{y}{z}{q}{g}$ and
      $\BetwFive{x}{y}{r}{p}{g}$ and
      $\Cong{r}{p}{z}{r}$ and
      $\Cong{z}{q}{z}{r}$ and
      $\Cong{y}{p}{g}{z}$ and
      $\Cong{y}{g}{g}{y}$.
    \end{definition}

    % \begin{definition}[C5o1d]
    %   $Th3(x,y,z,r,p,q,g,u)$ iff $Th2(x,y,z,r,p,q,g)$
    %   and $\OFS{y}{z}{q}{p}{g}{p}{r}{z}$ and $p-q : z-r$ and $z-u-p$ and $r-u-q$
    %   and $\IFS{r}{u}{q}{z}{r}{u}{q}{p}$
    %   and $\IFS{z}{u}{p}{r}{z}{u}{p}{q}$
    %   and $u-r : u-q$.
    % \end{definition}

    % \begin{definition}[C5o1e]
    %   $Th4(x,y,z,r,p,q,g,u,v,w,h)$ iff
    %   $Th3(x,y,z,r,p,q,g,u)$ and $z \neq p$ and $z \neq q$ and
    %   $p-z-v$ and $z-v : z-q$ and $q-z-h$ and $z-h : z-u$ and $v-h-w$ and $h-w : h-v$.
    % \end{definition}
  \end{forthel}

  \begin{forthel}
    \begin{lemma} %[C5o1f]
      Assume $x \neq y$ and $x-y-z$ and $x-y-r$. Then there exist points $a,b$ such that $x-r-a$ and $r-a : z-r$ and $x-z-b$ and $z-b : z-r$.
    \end{lemma}
    \begin{proof}
      Take point $a$ such that $\Betw{x}{r}{a}$ and $\Cong{r}{a}{z}{r}$ (by A4).
      Take point $b$ such that $\Betw{x}{z}{b}$ and $\Cong{z}{b}{z}{r}$ (by A4).
    \end{proof}

    \begin{axiom} %[C5o1g] (TODO)
      If $Th(x,y,z,r,p,q,g,h)$ then
      $\BetwFive{x}{y}{z}{q}{h}$ and
      $\BetwFive{x}{y}{r}{p}{g}$.
    \end{axiom}

    \begin{axiom} %[C5o1h] (TODO)
      Assume $Th(x,y,z,r,p,q,g,h)$ and
      $\BetwFive{x}{y}{z}{q}{h}$ and
      $\BetwFive{x}{y}{r}{p}{g}$. Then $y-p : h-z$.
    \end{axiom}

    \begin{axiom} %[C5o1i] (TODO)
      Assume $Th2(x,y,z,r,p,q,g)$ and $\OFS{y}{z}{q}{p}{g}{p}{r}{z}$. Then $p-q : z-r$.
    \end{axiom}

    \begin{axiom} %[C5o1j] (TODO)
      Assume $Th(x,y,z,r,p,q,g,h)$ and
      $\BetwFive{x}{y}{z}{q}{h}$ and
      $\BetwFive{x}{y}{r}{p}{g}$ and $y-p : h-z$. Then $y-g : h-y$.
    \end{axiom}



    \begin{lemma} %[C5o1k]
      Assume $x \neq y$ and $x-y-z$ and $x-y-r$ and $x-r-p$ and $r-p : z-r$ and $x-z-q$ and $z-q : z-r$ and ($z = p$ or $r = q$). Then $x-z-r$ or $x-r-z$.
    \end{lemma}

    \begin{lemma} %[C5o1l]
      Assume $x \neq y$ and $x-y-z$ and $x-y-r$ and $x-r-p$ and $r-p : z-r$ and $x-z-q$ and $z-q : z-r$. Then there exist points $s,t$ such that $z-q-t$ and $r-p-s$.
    \end{lemma}

    \begin{lemma} %[C5o1m]
      Assume $Th2(x,y,z,r,p,q,g)$. Then $\OFS{y}{z}{q}{p}{g}{p}{r}{z}$.
    \end{lemma}

    \begin{lemma} %[C5o1n]
      Assume $Th2(x,y,z,r,p,q,g)$ and $\OFS{y}{z}{q}{p}{g}{p}{r}{z}$ and $p-q : z-r$. Then there exist $u$ such that $z-u-p$ and $r-u-q$.
    \end{lemma}

    %\begin{lemma}[C5o1o]
    %  Assume $Th4(x,y,z,r,p,q,g,u,v,w,h)$.
    % Then $\OFS{q}{z}{h}{v}{v}{z}{u}{q}$ and $h-v : u-q$ and $h-w : u-r$
    % and $\OFS{q}{u}{r}{z}{v}{h}{w}{z}$ and $q-r : v-w$ and $z-w : z-r$ and $z-v : z-w$.
    %\end{lemma}
    %\begin{proof}
    %  $\OFS{q}{z}{h}{v}{v}{z}{u}{q}$. Hence $h-v : u-q$.
    %  Hence $h-w : u-r$. % TODO: this step is slow.
    %	Therefore $\OFS{q}{u}{r}{z}{v}{h}{w}{z}$. Hence $q-r : v-w$. If $q \neq u$ then $z-w : z-r$.
    %  If $q = u$ then $q = r$. % TODO: this step is slow.
    % 	Then $v = w$. Therefore $z-w : z-r$. Hence $z-v : z-w$.
    % \end{proof}
  \end{forthel}

  % The idea for proving lemma C5o1 is to extend the line $xz$ and $xr$
  % through two points $p,q$ such that $r-p : %z-r$ and $z-q : z-r$.
  % Then one can easy see that if one of $z = p$ or $r = q$, $x-y-z$ or $x-z-y$ must holds.
  % The following lemma shows that if there exist such points $p$ and $q$ then $z = p$ or $r = q$ must hold.
  % To see that such points exist one has to use axiom A4 twice.

  \begin{forthel}
    %\begin{lemma}[C5o1p]
    %  Assume $x \neq y$ and $x-y-z$ and $x-y-r$ and $x-r-p$ and $r-p : z-r$ and $x-z-q$ and $z-q : z-r$.
    % Then $z = p$ or $r = q$.
    %\end{lemma}
    %\begin{proof}
    %	Take points $s,t$ such that $z-q-t$ and $r-p-s$.
    %	Then $Th(x,y,z,r,p,q,s,t)$.
    %	Then $x}{y}{z}{q}{t$ and $x}{y}{r}{p}{s$.
    %	Then $y-p : t-z$.
    %	Then $y-t : t-y$.
    %	Then $s = t$.
    %	Then $Th2(x,y,z,r,p,q,s)$.
    %	Then $\OFS{y}{z}{q}{p}{s}{p}{r}{z}$.
    %	Then $p-q : z-r$.
    %	Take $u$ such that $z-u-p$ and $r-u-q$ (by C5o1n).
    %	Then $\IFS{r}{u}{q}{z}{r}{u}{q}{p}$.
    %	Then $\IFS{z}{u}{p}{r}{z}{u}{p}{q}$.
    %	Then $u-z : u-p$.
    %	Then $u-r : u-q$.
    %	Assume $z \neq p$. Then $z \neq q$.
    %		Take $v$ such that $p-z-v$ and $z-v : z-q$.
    %		Take $h$ such that $q-z-h$ and $z-h : z-u$.
    %		Take $w$ such that $v-h-w$ and $h-w : h-v$.
    %    Then $\OFS{q}{z}{h}{v}{v}{z}{u}{q}$
    %    and $h-v : u-q$ and $h-w : u-r$
    %    and $\OFS{q}{u}{r}{z}{v}{h}{w}{z}$
    %    and $q-r : v-w$ and $z-w : z-r$ and $z-v : z-w$. %(by C5o1o).
    %		Then $h-v : h-w$. $z \neq p$. Hence $h \neq z$. $\Col{h}{z}{q}$. Therefore $q-v : q-w$.
    %		Then $z-v : z-w$. $z \neq q$. $\Col{z}{q}{y}$. Therefore $y-v : y-w$.
    %		Then $z-v : z-w$. $z \neq q$. $\Col{z}{q}{s}$. Therefore $s-v : s-w$.
    %		Then $y \neq s$.
    %		Then $q = r$.
    %	Assume $z = p$.
    %\end{proof}

    \begin{axiom} % Satz 5.1 (TODO)
      Assume $x \neq y$.
      If $\Betw{x}{y}{z}$ and $\Betw{x}{y}{r}$
      then $\Betw{x}{z}{r}$ or $\Betw{x}{r}{z}$.
    \end{axiom}
    %\begin{proof}
    %  Take $p,q$ such that $x-r-p$ and $r-p : z-r$ and $x-z-q$ and $z-q : z-r$.
    %  Then $z = p$ or $r = q$. % (by C5o1p).
    %  Therefore $x-z-r$ or $x-r-z$ (by C5o1k).
    %\end{proof}

    \begin{lemma} %[D5o2]
      Assume $x \neq y$.
      If $\Betw{x}{y}{z}$ and $\Betw{x}{y}{r}$
      then $\Betw{y}{z}{r}$ or $\Betw{y}{r}{z}$.
    \end{lemma}

    \begin{theorem} %[D5o3]
      If $\Betw{x}{y}{w}$ and $\Betw{x}{z}{w}$ then $\Betw{x}{y}{z}$ or $\Betw{x}{z}{y}$.
    \end{theorem}
  \end{forthel}

  \subsection{Comparing segments}

  Intuitively, a segment $pq$ is larger than a segment $vw$ whenever we can find a subsegment
  of $pq$ of the same length as $vw$.

  \begin{forthel}
    \begin{definition} % Definition 5.4 (first part)
      $\Leq{v}{w}{p}{q}$ iff there exists $x$ such that $\Betw{p}{x}{q}$ and $\Cong{v}{w}{p}{x}$.
    \end{definition}

    \begin{definition} % Definition 5.4 (second part)
      $\Geq{v}{w}{p}{q}$ iff $\Leq{p}{q}{v}{w}$.
    \end{definition}
  \end{forthel}

  Conversely, we can say that a segment $vw$ is smaller than $pq$ whenever we can extend $vw$
  to a segment of the length $pq$.

    \begin{axiom} % Satz 5.5 (TODO)
      $\Leq{v}{w}{p}{q}$ iff there exists $x$ such that $\Betw{v}{w}{x}$ and $\Cong{v}{x}{p}{q}$.
    \end{axiom}

  \begin{forthel}
    % Takes a bit of time, but works without proof.
    \begin{lemma}[LessCongLeft] % Satz 5.6 (first part)
      If $\Leq{p}{q}{v}{w}$ and $\Cong{p}{q}{x}{y}$
      then $\Leq{x}{y}{v}{w}$.
    \end{lemma}

    % Takes a bit of time, but works without proof.
    \begin{lemma}[LessCongRight] % Satz 5.6 (second part)
      If $\Leq{p}{q}{v}{w}$ and $\Cong{v}{w}{x}{y}$
      then $\Leq{p}{q}{x}{y}$.
    \end{lemma}

    \begin{lemma}[LessReflexivity] % Satz 5.7
      For all points $x, y$ we have $\Leq{x}{y}{x}{y}$.
    \end{lemma}

    % Takes a bit of time, but works without proof. SST has a proof sketch for this.
    \begin{lemma}[LessTransitivity] % 5.8
      If $\Leq{p}{q}{v}{w}$ and $\Leq{v}{w}{x}{y}$ then $\Leq{p}{q}{x}{y}$.
    \end{lemma}

    \begin{axiom}[LessClamp] % Satz 5.9 (TODO)
      If $\Leq{p}{q}{x}{y}$ and $\Leq{x}{y}{p}{q}$ then $\Cong{p}{q}{x}{y}$.
    \end{axiom}

    \begin{axiom}[LessConnex] % Satz 5.10 (TODO)
      For all points $p, q, x, y$ we have $\Leq{p}{q}{x}{y}$ or $\Leq{x}{y}{p}{q}$.
    \end{axiom}

    \begin{lemma} % Satz 5.11
      For all points $x, y, z$ we have $\Leq{x}{x}{y}{z}$.
    \end{lemma}

    \begin{axiom} % Satz 5.12 (TODO)
      Assume that $x$ is collinear with $y$ and $z$.
      Then $\Betw{x}{y}{z}$ iff $\Leq{x}{y}{x}{z}$ or $\Leq{y}{z}{x}{z}$.
    \end{axiom}
  \end{forthel}


  \begin{forthel}
    \begin{definition}
      $\Less{p}{q}{x}{y}$ iff $\Leq{p}{q}{x}{y}$ and $\NotCong{p}{q}{x}{y}$.
    \end{definition}

    \begin{definition}
      $\Greater{p}{q}{x}{y}$ iff $\Less{x}{y}{p}{q}$.
    \end{definition}
  \end{forthel}



  \section{Rays and lines}

  \begin{forthel}
    \begin{definition}
      $x$ and $y$ lie on opposite sides of $u$ iff
      $x, y, u$ are pairwise nonequal and $\Betw{x}{u}{y}$.
    \end{definition}

    \begin{definition}
      $x$ and $y$ are equivalent with respect to $u$ iff $x\neq u \neq y$ and ($\Betw{u}{x}{y}$ or $\Betw{u}{y}{x}$).
    \end{definition}

    \begin{lemma}
      Suppose $x,y,z \neq u$.
      If $\Betw{x}{u}{z}$
      then we have
        ($\Betw{y}{u}{z}$ iff $x$ and $y$ are equivalent with respect to $u$).
    \end{lemma}
  \end{forthel}

\end{document}
